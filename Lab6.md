Лабораторна робота № 6. Функції apply, lapply, sapply, split.
В лабораторній роботі необхідно виконати наступні дії:

1. Створити матрицю mat з 5 стовпцями та 10 строками за допомогою
matrix з випадковими даними (функція rnorm(50)).
```{r}
> mat <- matrix(rnorm(50), 10, 5)
> mat
            [,1]        [,2]        [,3]        [,4]       [,5]
 [1,] -1.2696288  0.09714553  0.44856466 -0.04515116  2.0065635
 [2,] -0.2625635 -1.28997858  0.15691300  1.39649024 -1.0735961
 [3,] -0.3070859 -0.49179720  1.31421216 -0.79707236 -0.2151717
 [4,] -0.5431704  0.07901015  0.60426639  0.16800615  0.5059178
 [5,] -0.6927387  0.13045750  0.01298934 -0.52435948 -1.1675281
 [6,]  0.8884639  0.74126940 -0.75590479  0.24499464  0.1069911
 [7,] -0.2005555  0.53357693 -1.00344406  0.91988818 -0.4531097
 [8,] -0.4332931  0.81907137 -0.99514812 -1.98884299  0.8375490
 [9,]  0.2470487  1.10072498  1.53445903  1.52930007  1.1883511
[10,]  0.2531900 -1.40077741  0.37375482 -0.99902257 -0.2085223
```
2. Знайти максимальне значення в кожному стовпці.
```{r}
> columnmax <- function(mat){
+ n <- ncol(mat)
+ v <- numeric(n)
+ for (i in 1:n) {
+ v[i] <- max(mat[ ,i])
+ }
+ v
+ }
> columnmax(mat)
[1] 0.8884639 1.1007250 1.5344590 1.5293001 2.0065635
```
3. Знайти середнє (mean) значення кожного стовпця.
```{r}
> columnmeans <- function(mat){
n <- ncol(mat)
 v <- numeric(n)
 for (i in 1:n) {
 v[i] <- mean(mat[ ,i])
 }
 v
 }
 [1] -0.232033323  0.031870267  0.169066242 -0.009576927  0.152744458
 ```

2. Знайти максимальне значення в кожному стовпці.
```{r}
apply(mat,2, max)
[1] 0.8884639 1.1007250 1.5344590 1.5293001 2.0065635
```
3. Знайти середнє (mean) значення кожного стовпця.
```{r}

apply(mat,2, mean)
[1] -0.232033323  0.031870267  0.169066242 -0.009576927  0.152744458
```
4. Знайти мінімальне значення в кожному рядку.
```{r}
apply(mat,1, min)
[1] -1.2696288 -1.2899786 -0.7970724 -0.5431704 -1.1675281 -0.7559048 -1.0034441
 [8] -1.9888430  0.2470487 -1.4007774
 ```
 5. Відсортувати кожен стовбець таблиці.
 ```{r}
 apply(mat,2, sort)
   [,1]        [,2]        [,3]        [,4]       [,5]
 [1,] -1.2696288 -1.40077741 -1.00344406 -1.98884299 -1.1675281
 [2,] -0.6927387 -1.28997858 -0.99514812 -0.99902257 -1.0735961
 [3,] -0.5431704 -0.49179720 -0.75590479 -0.79707236 -0.4531097
 [4,] -0.4332931  0.07901015  0.01298934 -0.52435948 -0.2151717
 [5,] -0.3070859  0.09714553  0.15691300 -0.04515116 -0.2085223
 [6,] -0.2625635  0.13045750  0.37375482  0.16800615  0.1069911
 [7,] -0.2005555  0.53357693  0.44856466  0.24499464  0.5059178
 [8,]  0.2470487  0.74126940  0.60426639  0.91988818  0.8375490
 [9,]  0.2531900  0.81907137  1.31421216  1.39649024  1.1883511
[10,]  0.8884639  1.10072498  1.53445903  1.52930007  2.0065635
 ```
 
 6. Знайти кількість значень < 0 для кожного стовпця. Використати свою
функцію.
```{r}
> apply(mat, 2, function(x) sum (x<0))
[1] 7 3 3 5 5
```
7. Вивести вектор з булевими значеннями TRUE та FALSE. TRUE, якщо в
стовпці є елементи >2, FALSE – якщо немає.
```{r}
> apply(mat,2,function(x) sum(x>2)>0)
[1] FALSE FALSE FALSE FALSE  TRUE
```

 8. Створить список list1 <- list(observationA = c(1:5, 7:3), observationB =
matrix(1:6, nrow=2)). Для цього списку знайдіть sum за допомогою lapply.
```{r}
> list1 <- list(observationA = c(1:5, 7:3), observationB =
+                   matrix(1:6, nrow=2))
> list1
$observationA
 [1] 1 2 3 4 5 7 6 5 4 3

$observationB
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

> lapply(list1, sum)
$observationA
[1] 40

$observationB
[1] 21
```
9. Для кожного елементу списку list1 знайдіть максимальне та мінімальне
значення (range) за допомогою lapply та sapply.
```{r}

##using lapply function            

> lapply(list1, max)
$observationA
[1] 7

$observationB
[1] 6

> lapply(list1, min)
$observationA
[1] 1

$observationB
[1] 1

##using sapply function 

> sapply(list1, max)
observationA observationB 
           7            6 
> sapply(list1, min)
observationA observationB 
           1            1
```

10.Для вбудованого набору даних InsectSprays знайти середнє count для
кожного spray.
 ```{r}
> g <- split(InsectSprays$count, InsectSprays$spray)
##split the "count" values into six groups based on types of sprays
> g
$A
 [1] 10  7 20 14 14 12 10 23 17 20 14 13

$B
 [1] 11 17 21 11 16 14 17 17 19 21  7 13

$C
 [1] 0 1 7 2 3 1 2 1 3 0 1 4

$D
 [1]  3  5 12  6  4  3  5  5  5  5  2  4

$E
 [1] 3 5 3 5 3 6 1 1 3 2 6 4

$F
 [1] 11  9 15 22 15 16 13 10 26 26 24 13

> sapply(g, mean)
        A         B         C         D         E         F 
14.500000 15.333333  2.083333  4.916667  3.500000 16.666667 
> lapply(g, mean)
$A
[1] 14.5

$B
[1] 15.33333

$C
[1] 2.083333

$D
[1] 4.916667

$E
[1] 3.5

$F
[1] 16.66667
